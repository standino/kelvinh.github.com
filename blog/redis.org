#+TITLE:       redis 
#+AUTHOR:      Will Chang
#+EMAIL:       changwei.cn@gmail.com
#+DATE:        2013-12-24 周二
#+URI:         /blog/%y/%m/%d/redis
#+KEYWORDS:    big data, redis
#+TAGS:        :big data:redis
#+LANGUAGE:    en
#+OPTIONS:     H:3 num:nil toc:t \n:nil ::t |:t ^:nil -:nil f:t *:t <:t
#+DESCRIPTION: redis学习和入门

reids 基本上还是比较简单的，有人说它是面向开发者的，因此开发人员使用起来就非常简单。下面我列出几篇不错的文章。

* 入门

 6. [[http://blog.nosqlfan.com/html/3139.html?ref=rediszt][Redis系统性介绍]]  这篇入门级的文章写得不错。

* 结构设计
Redis并不是简单的key-value存储，实际上他是一个数据结构服务器，支持不同类型的值。

 1. 二进制安全的 字符串 string
 2. 二进制安全的 字符串列表 list of string
 3. 二进制安全的 字符串集合 set of string，换言之：它是一组无重复未排序的element。可以把它看成Ruby中的 hash–其key等于element，value都等于’true‘。
 4. 有序集合sorted set of string，类似于集合set，但其中每个元素都和一个浮点数score（评分）关联。element根据score排序。可以把它看成Ruby中的 hash–其key等于element，value等于score，但元素总是按score的顺序排列，无需额外的排序操作。

因此在使用redis的时候也需要像使用传统关系型数据库那样设计一下数据结构。下面两篇文章是很好的参考：
 1. [[http://blog.codingnow.com/2011/11/dev_note_2.html][redis 数据库结构设计]]
 2. [[http://blog.nosqlfan.com/html/3033.html][浅谈Redis数据库的键值设计]]

设计中需要考虑内存占用

 1. [[http://ju.outofmemory.cn/entry/20361][关于 Redis 的几种数据库设计方案的内存占用测试]]
 2. [[http://blog.nosqlfan.com/html/3379.html?ref=rediszt][节约内存：Instagram的Redis实践]]

性能监控

 1. [[http://blog.nosqlfan.com/html/4166.html][Redis监控技巧]]

* Java 调用

** 配置pom.xml引入jedis依赖

#+BEGIN_SRC xml
<dependency>
          <groupId>redis.clients</groupId>
          <artifactId>jedis</artifactId>
          <version>2.2.1</version>
          <type>jar</type>
          <scope>compile</scope>
</dependency>
#+END_SRC

** Java 程序访问redis服务器
#+BEGIN_SRC java

public static void main( String[] args )
    {
        Jedis jedis = new Jedis("192.168.232.116");
        jedis.set("foo", "bar");

        String value = jedis.get("foo");
        System.out.println("get from redis:"+value);

        jedis.hset("ProdSort:1", "fatherid", "123");

        value =  jedis.hget("ProdSort:1", "fatherid");

        System.out.println("get from redis:"+value);

//        for( Map i: jedis.hgetAll("ProdSort:1")) {
//
//        }
    }

#+END_SRC

* 参考文章

 1. [[https://github.com/springside/springside4/wiki/redis][江南白衣Redis]]
 2.  [[http://projects.spring.io/spring-data-redis/#quick-start][Spring Data Redis]]
